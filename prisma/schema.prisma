// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model GuildSettings {
    id                          Int         @id @default(autoincrement())
    guildId                     String      @unique
    enabledAutoRole             Boolean     @default(false)
    enabledAutoRoleUserId       String
    enabledUserBinding          Boolean     @default(false)
    enabledUserBindingUserId    String
    createdAt                   DateTime    @default(now())
    updatedAt                   DateTime    @updatedAt
}

model MemberRole {
    id                  Int         @id @default(autoincrement())
    guildId             String
    userId              String
    roleIds             String
    createdAt           DateTime    @default(now())
    updatedAt           DateTime    @updatedAt

    @@unique([guildId, userId])
}

model UserBindingGroup {
    id                  Int         @id @default(autoincrement())
    userId              String      @unique
    parentUserId        String
    isParent            Boolean     @default(false)
    createdAt           DateTime    @default(now())
    updatedAt           DateTime    @updatedAt
}